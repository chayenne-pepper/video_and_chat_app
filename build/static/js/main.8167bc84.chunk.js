(this["webpackJsonpvid-chat"]=this["webpackJsonpvid-chat"]||[]).push([[0],{147:function(e,t,n){},148:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(26),c=n.n(s),l=(n(147),n(16)),o=n(4),i=(n(148),n(44)),d=n(8),m=n(2);function u(e){return Object(m.jsx)("header",{className:"text-gray-600 body-font",children:Object(m.jsxs)("div",{className:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center",children:[Object(m.jsxs)(i.b,{to:"/",className:"flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0",children:[Object(m.jsx)("span",{className:"w-10 h-10 text-white p-2 bg-green-700 rounded-full text-center",children:Object(m.jsx)("i",{className:"fa fa-video-camera","aria-hidden":"true"})}),Object(m.jsx)("span",{className:"ml-3 text-xl",children:"Video Chat"})]}),Object(m.jsx)("nav",{className:"md:mr-auto md:ml-4 md:py-1 md:pl-4 md:border-l md:border-gray-400  flex flex-wrap items-center text-base justify-center",children:Object(m.jsx)(i.b,{to:"/chat",className:"mr-5 hover:text-gray-900",children:"Chat"})}),Object(m.jsx)(d.a,{exact:!0,path:"/chat",render:function(e){return Object(m.jsx)(m.Fragment,{children:null!==localStorage.getItem("username")&&null!==localStorage.getItem("password")?Object(m.jsxs)("button",{className:"mt-4 text-white bg-green-700 border-0 py-1 px-5 focus:outline-none hover:bg-green-800 rounded",onClick:function(e){localStorage.removeItem("username"),localStorage.removeItem("password"),window.location="/"},type:"submit",children:[Object(m.jsx)("span",{children:"Logout"}),Object(m.jsx)("i",{className:"ml-2 fa fa-sign-out","aria-hidden":"true"})]}):null})}})]})})}var j=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(u,{}),Object(m.jsx)("div",{className:"my-content mx-auto container items-center",children:Object(m.jsx)("section",{className:"text-gray-600 body-font",children:Object(m.jsxs)("div",{className:"container px-5 py-24 mx-auto",children:[Object(m.jsxs)("div",{className:"w-1/2 mx-auto mb-10 text-center ",children:[Object(m.jsx)("h1",{className:"sm:text-3xl text-2xl font-medium title-font text-gray-900 mb-4",children:"Welcome! Create a new meeting or join an ongoing meeting"}),Object(m.jsx)("p",{className:"text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto text-gray-500s",children:"Stay on this page for Video Conferencing. Click on Chat to chat with your friends!"}),Object(m.jsx)("div",{className:"flex mt-6 justify-center",children:Object(m.jsx)("div",{className:"w-16 h-1 rounded-full bg-green-700 inline-flex"})})]}),Object(m.jsxs)("div",{className:"flex flex-wrap -m-4",children:[Object(m.jsx)("div",{className:"p-4 lg:w-1/2 md:w-full",children:Object(m.jsxs)("div",{className:"flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col",children:[Object(m.jsx)("div",{className:"w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-green-100 text-green-700 flex-shrink-0",children:Object(m.jsx)("i",{className:"fa fa-plus text-2xl","aria-hidden":"true"})}),Object(m.jsxs)("div",{className:"flex-grow",children:[Object(m.jsx)("h2",{className:"text-gray-900 text-lg title-font font-medium mb-3",children:"New meeting"}),Object(m.jsx)("p",{className:"leading-relaxed text-base",children:"Create a new meeting"}),Object(m.jsx)("input",{className:"mt-2 w-full border-2 border-gray-200 px-2 py-1 rounded-md",type:"text",name:"Room",placeholder:"Type unique meeting id",onChange:function(t){return e.setRoom(t.target.value)}}),Object(m.jsx)("input",{className:"mt-1 w-full border-2 border-gray-200 px-2 py-1 rounded-md",id:"password",type:"text",placeholder:"Password for the meeting (optional)",onChange:function(t){return e.setPassword(t.target.value)}}),Object(m.jsxs)("button",{className:"mt-4 text-white bg-green-700 border-0 py-1 px-5 focus:outline-none hover:bg-green-700 rounded",onClick:function(t){e.handleClick(t,e)},type:"submit",children:[Object(m.jsx)("span",{children:"New Meeting"}),Object(m.jsx)("i",{className:"ml-2 fa fa-long-arrow-right","aria-hidden":"true"})]})]})]})}),Object(m.jsx)("div",{className:"p-4 lg:w-1/2 md:w-full",children:Object(m.jsxs)("div",{className:"flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col",children:[Object(m.jsx)("div",{className:"w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-green-100 text-green-700 flex-shrink-0",children:Object(m.jsx)("i",{className:"fa fa-sign-in text-2xl","aria-hidden":"true"})}),Object(m.jsxs)("div",{className:"flex-grow",children:[Object(m.jsx)("h2",{className:"text-gray-900 text-lg title-font font-medium mb-3",children:"Join a meeting"}),Object(m.jsx)("p",{className:"leading-relaxed text-base",children:"Join an ongoing meeting"}),Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)("input",{className:"w-full border-2 border-gray-200 px-2 py-1 rounded-md",type:"text",name:"room",placeholder:"Unique meeting id",onChange:function(t){return e.setRoom(t.target.value)}}),Object(m.jsx)("input",{className:"mt-1 w-full border-2 border-gray-200 px-2 py-1 rounded-md",id:"password",type:"text",placeholder:"Password for the meeting (optional)",onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(m.jsxs)("button",{className:"mt-4 text-white bg-green-700 border-0 py-1 px-5 focus:outline-none hover:bg-green-700 rounded",onClick:function(t){e.handleClick(t,e)},type:"submit",children:[Object(m.jsx)("span",{children:"Join Meeting"}),Object(m.jsx)("i",{className:"ml-2 fa fa-long-arrow-right","aria-hidden":"true"})]})]})]})})]})]})})})]})},x=n(142),b=n(6),h=n.n(b);function g(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(o.a)(s,2),l=c[0],i=c[1],d=Object(r.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){null===localStorage.getItem("username")||null===localStorage.getItem("password")?a(!1):(i(localStorage.getItem("username")),h(localStorage.getItem("password")),a(!0))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u,{}),Object(m.jsx)("div",{className:"my-content container mx-auto p-5",children:n?Object(m.jsx)("div",{children:Object(m.jsx)(x.d,{height:"75vh",publicKey:"97072f7c-b17d-4ea3-becc-03504489f9cb",userName:l,userSecret:b})}):Object(m.jsx)(f,{setIsLoggedIn:a,handleCredentials:function(e,t){i(e),h(t),localStorage.setItem("username",e),localStorage.setItem("password",t),a(!0)}})})]})}function f(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(""),l=Object(o.a)(c,2),i=l[0],d=l[1];return Object(m.jsx)("div",{className:"mx-auto container items-center",children:Object(m.jsxs)("div",{className:"flex flex-wrap mt-20",children:[Object(m.jsx)("div",{className:"p-4 w-1/2 ",children:Object(m.jsxs)("div",{className:"h-full p-6 rounded-lg border-2 border-green-700 flex flex-col relative overflow-hidden",children:[Object(m.jsx)("h1",{className:"text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200",children:Object(m.jsx)("span",{children:"Sign In"})}),Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)("input",{className:"w-full border-2 border-gray-200 px-2 py-1 rounded-md",type:"text",name:"username",placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(m.jsx)("input",{className:"mt-2 w-full border-2 border-gray-200 px-2 py-1 rounded-md",id:"password",type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})]}),Object(m.jsxs)("button",{onClick:function(t){t.preventDefault(),a&&i?(console.log("username from handlelogin ",a,i),e.handleCredentials(a,i)):alert("Username and password are required")},type:"submit",className:"flex items-center mt-6 text-white bg-green-700 border-0 py-2 px-4 w-full focus:outline-none hover:bg-green-800 rounded",children:["Sign In",Object(m.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-auto",viewBox:"0 0 24 24",children:Object(m.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),Object(m.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Sign in to an existing account"})]})}),Object(m.jsx)("div",{className:"p-4 w-1/2 ",children:Object(m.jsxs)("div",{className:"h-full p-6 rounded-lg border-2 border-green-700 flex flex-col relative overflow-hidden",children:[Object(m.jsx)("h1",{className:"text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200",children:Object(m.jsx)("span",{children:"Sign Up"})}),Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)("input",{className:"w-full border-2 border-gray-200 px-2 py-1 rounded-md",type:"text",name:"username",placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(m.jsx)("input",{className:"mt-2 w-full border-2 border-gray-200 px-2 py-1 rounded-md",id:"password",type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})]}),Object(m.jsxs)("button",{onClick:function(t){t.preventDefault(),function(){if(a&&i){console.log("username and password from handle signup",a,i);var t={method:"post",url:"https://api.chatengine.io/users/",headers:{"PRIVATE-KEY":"d3e5f392-8941-4b04-ade4-8ff334f937cf"},data:{username:a,secret:i}};h()(t).then((function(t){console.log(JSON.stringify(t.data)),e.handleCredentials(a,i)})).catch((function(e){alert("user already exist"),console.log("from login chat",e)}))}else alert("Username and password are required")}()},type:"submit",className:"flex items-center mt-6 text-white bg-green-700 border-0 py-2 px-4 w-full focus:outline-none hover:bg-green-800 rounded",children:["Sign Up",Object(m.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-auto",viewBox:"0 0 24 24",children:Object(m.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),Object(m.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Create a new user"})]})})]})})}var p=n(141),O=function(e){return Object(r.useEffect)((function(){setInterval((function(){try{document.getElementById("jitsiConferenceFrame0").contentDocument.querySelector(".leftwatermark").style.display="none"}catch(e){console.error("handled issue",e)}}),1e3)}),[]),e&&!e.shouldMount?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u,{}),Object(m.jsx)("div",{className:"my-content container mx-auto p-5",children:Object(m.jsx)(p.a,{roomName:e.room,password:e.password,loadingComponent:Object(m.jsx)("p",{children:"loading ..."}),errorComponent:Object(m.jsx)("p",{children:"Oops, something went wrong"}),containerStyles:{width:"1000px",height:"525px",margin:"0 auto"},onMeetingEnd:function(){console.log("Meeting has ended"),e.history.push("/chat")}})})]})};var w=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(o.a)(s,2),u=c[0],x=c[1],b=Object(r.useState)(""),h=Object(o.a)(b,2),f=h[0],p=h[1],w=Object(r.useState)(!1),y=Object(o.a)(w,2),v=y[0],N=y[1],C=function(e,t){e.preventDefault(),n?(console.log("details",n,u,f),N(!0),t.history.push("/meeting")):alert("Please fill the appropriate fields!")};return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(i.a,{children:Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{exact:!0,path:"/chat",render:function(e){return Object(m.jsx)(g,Object(l.a)({},e))}}),Object(m.jsx)(d.a,{exact:!0,path:"/",render:function(e){return Object(m.jsx)(j,Object(l.a)({handleClick:C,setRoom:a,setName:x,setPassword:p},e))}}),Object(m.jsx)(d.a,{path:"/meeting",render:function(e){return Object(m.jsx)(O,Object(l.a)({shouldMount:v,room:n,name:u,password:f},e))}})]})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,339)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),y()}},[[336,1,2]]]);
//# sourceMappingURL=main.8167bc84.chunk.js.map